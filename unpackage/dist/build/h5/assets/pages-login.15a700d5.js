import{o as s,c as a,w as t,i as e,a as o,b as i,d as l,r as n,e as r}from"./index-a2188dbb.js";import{r as d,_ as u,a as c}from"./u-form-item.bb11ca44.js";import{_ as p}from"./_plugin-vue_export-helper.1b428a4d.js";const m=p({data:()=>({userInfo:{},globalOption:{},globalData:{},user:{msg:"",status:0,success:!0,data:{info:{user_id:0,is_admin:0,num:0}}},logout:{msg:"未登录",status:-2,success:!1,data:{}},usernameFocus:!1,username:"",passwordFocus:!1,password:""}),onShow(){this.setCurrentPage(this)},onLoad(s){this.setCurrentPage(this),s&&this.setData({globalOption:this.getOption(s)}),this.init()},methods:{async init(){},async userApi(s){let a={username:(s=s||{}).username||this.username||"admin",password:s.password||this.password||"admin"},t=await this.$http.post("/login",a,{},"json");this.user=t,0==t.status?(this.navigateTo({type:"tip",tip:"登陆成功"}),this.navigateTo({type:"page",url:"index"})):this.navigateTo({type:"tip",tip:"登陆失败"}),this.$session.setUser(onlogin.data.info)},async logoutApi(s){let a=await this.$http.post("/logout",{},{},"json");this.logout=a}}},[["render",function(p,m,f,g,w,h){const y=e,x=l,b=d(n("u-input"),u),_=d(n("u-form-item"),c),z=r;return s(),a(y,{class:"container container333415"},{default:t((()=>[o(y,{class:"flex diygw-col-24 flex-direction-column justify-center items-center flex-nowrap flex-clz"}),o(x,{class:"diygw-col-24 logintitle-clz diygw-text-lg"},{default:t((()=>[i(" 优雅草科技AI制图 - 内部版本 ")])),_:1}),o(x,{class:"diygw-col-24 text-clz diygw-text-sm"},{default:t((()=>[i(" 支持内部员工和优雅草代理商登录 ")])),_:1}),o(_,{class:"diygw-col-24 username-clz diygw-form-item-small",labelPosition:"top",prop:"username"},{default:t((()=>[o(x,{class:"diy-icon-my margin-right-xs",style:{color:"#13beff","font-size":"32rpx"}}),o(b,{focus:w.usernameFocus,placeholder:"请输入用户名",modelValue:w.username,"onUpdate:modelValue":m[0]||(m[0]=s=>w.username=s)},null,8,["focus","modelValue"])])),_:1}),o(_,{class:"diygw-col-24 password-clz diygw-form-item-small",labelPosition:"top",prop:"password"},{default:t((()=>[o(x,{class:"diy-icon-lock margin-right-xs",style:{color:"#13beff","font-size":"32rpx"}}),o(b,{focus:w.passwordFocus,placeholder:"请输入密码",modelValue:w.password,"onUpdate:modelValue":m[1]||(m[1]=s=>w.password=s),type:"password","password-icon":!0},null,8,["focus","modelValue"])])),_:1}),o(y,{class:"flex diygw-col-24 button-clz"},{default:t((()=>[o(z,{style:{color:"#ffffff !important","background-color":"#13beff !important"},onClick:p.navigateTo,"data-type":"userApi","data-username":w.username,"data-password":w.password,class:"diygw-btn md flex-sub margin-xs button-button-clz"},{default:t((()=>[i("点击登录")])),_:1},8,["onClick","data-username","data-password"])])),_:1}),o(y,{class:"clearfix"})])),_:1})}],["__scopeId","data-v-bd22bfcb"]]);export{m as default};
